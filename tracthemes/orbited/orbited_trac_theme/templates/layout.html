<!DOCTYPE html
    PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:xi="http://www.w3.org/2001/XInclude"
      xmlns:py="http://genshi.edgewall.org/"
      py:strip="">

  <py:match path="head" once="true"><head>
    <title py:with="title = list(select('title/text()'))">
      <py:if test="title">${title} –</py:if>
      ${' – '.join(filter(None, [project.name, 'Networking for the Web']))}
    </title>
    <py:if test="chrome.links">
      <py:for each="rel, links in chrome.links.items()">
        <link rel="${rel}" py:for="link in links" py:attrs="link" />
      </py:for>
    </py:if>
    <py:if test="'SEARCH_VIEW' in perm" id="search">
      <link type="application/opensearchdescription+xml" rel="search"
            href="${href.search('opensearch')}" title="Search $project.name"/>
    </py:if>
    <script py:for="script in chrome.scripts"
            type="${script.type}" src="${script.href}"></script>
    ${Markup('&lt;!--[if lt IE 7]&gt;')}
    <script type="text/javascript" src="${chrome.htdocs_location}js/ie_pre7_hacks.js"></script>
    ${Markup('&lt;![endif]--&gt;')}
    ${select("*[local-name() != 'title']")}


<script>
  onload = function() {
  if(document.location.pathname == "/wiki/Development"){
  document.getElementById("metanav").style.display = "block"
  document.getElementById("mainnav").style.display = "block"
  document.getElementById("ctxtnav").style.display = "block"
  }

  if(document.location.pathname.indexOf("/browser") != 0)
   document.getElementById("altlinks").style.display = "none"
  if(document.location.pathname.indexOf("/attachment") == 0)
   document.getElementById("altlinks").style.display = "block"
}
</script>

  </head></py:match>

  <div py:def="navigation(category)" id="${category}" class="nav">
    <ul py:if="chrome.nav[category]">
      <li py:for="idx, item in  enumerate(chrome.nav[category])"
          class="${classes(first_last(idx, chrome.nav[category]), active=item.active)}">${item.label}</li>
    </ul>
  </div>

  <py:match path="body" once="true"><body>
    <div id="banner">
      <div id="header" py:choose="">
        <a py:when="chrome.logo.src" id="logo" href="${chrome.logo.link or href.wiki('TracIni')+'#header_logo-section'}"><img
          src="${chrome.logo.src}" alt="${chrome.logo.alt}"
          height="${chrome.logo.height or None}" width="${chrome.logo.width or None}" /></a>
        <h1 py:otherwise=""><a href="${chrome.logo.link}">${project.name}</a></h1>
	</div>
	
      <!--form id="search" action="${href.search()}" method="get">
        <div py:if="'SEARCH_VIEW' in perm">
          <label for="proj-search">Search:</label>
          <input type="text" id="proj-search" name="q" size="18" accesskey="f" value="" />
          <input type="submit" value="Search" />
        </div>
      </form-->
      <ul id="orbitednav">
	<li><a href="/">Home</a></li>
	<li><a href="/wiki/Download">Download</a></li>
	<li><a href="/wiki/Documentation">Documentation</a></li>
	<li><a href="/wiki/Community">Community</a></li>
	<li><a href="/wiki/Development">Development</a></li>
	<li><a href="/blog">Blog</a></li>
	<li><a href="/wiki/About">About</a></li>

	</ul>

      ${navigation('metanav')}
    </div>
    ${navigation('mainnav')}

    <div id="main">
      <div id="ctxtnav" class="nav">
        <h2>Context Navigation</h2>
          <ul>
            <li py:for="i, elm in enumerate(chrome.ctxtnav)" class="${i == 0 and 'first ' or None}${i+1 == len(chrome.ctxtnav) and 'last' or None}">$elm</li>
          </ul>
        <hr />
      </div>
      <div id="warning" py:if="chrome.warnings" class="system-message">
        <py:choose test="len(chrome.warnings)">
          <py:when test="1">
            <strong>Warning:</strong> ${chrome.warnings[0]}
          </py:when>
          <py:otherwise>
            <strong>Warnings:</strong>
            <ul><li py:for="w in chrome.warnings">$w</li></ul>
          </py:otherwise>
        </py:choose>
      </div>
      <div id="notice" py:if="chrome.notices" class="system-message">
        <py:choose test="len(chrome.notices)">
          <py:when test="1">
            <strong>Notice:</strong> ${chrome.notices[0]}
          </py:when>
          <py:otherwise>
            <strong>Notices:</strong>
            <ul><li py:for="w in chrome.notices">$w</li></ul>
          </py:otherwise>
        </py:choose>
      </div>

      ${select('*|text()')}

      <script type="text/javascript" py:if="chrome.late_links">
        <py:for each="link in chrome.late_links.get('stylesheet')">
          jQuery.loadStyleSheet("${link.href}", "${link.title}");
        </py:for>
      </script>
      <script py:for="script in chrome.late_scripts"
              type="${script.type}" src="${script.href}"></script>

      <div id="altlinks" py:if="'alternate' in chrome.links">
        <h3>Download this document in other formats:</h3>
        <ul>
          <li py:for="idx, link in enumerate(chrome.links.alternate)"
              class="${first_last(idx, chrome.links.alternate)}">
            <a rel="nofollow" href="${link.href}" class="${link['class']}"
               py:content="link.title" />
          </li>
        </ul>
      </div>
    </div>

    <!--div id="footer" xml:lang="en"><hr/>
      <a id="tracpowered" href="http://trac.edgewall.org/"><img
        src="${chrome.htdocs_location}trac_logo_mini.png" height="30"
        width="107" alt="Trac Powered"/></a>
      <p class="left">
        Powered by <a href="${href.about()}"><strong>Trac ${trac.version}</strong></a><br />
        By <a href="http://www.edgewall.org/">Edgewall Software</a>.
      </p>
      <p class="right">${chrome.footer}</p>
    </div-->
   <div id="footer">
     Orbited &copy; 2008 Michael Carter
     </div>
  </body></py:match>

  <xi:include href="site.html"><xi:fallback /></xi:include>

</html>
